(function(){$.fn.extend({auto_kana_input:function(c){var d,h,i,e,j,f,k,g,l,m,n,b,o;null==c&&(c={});b="";g=this.selector;k=$(g);f=$(c.target||g+"_kana");l=c.katakana;j=function(a){return 65<=a&&90>=a};d=function(a){var b;b=f.val();b=l?b+n(a):b+a;return f.val(b)};i=function(){return f.val("")};n=function(a){return a.replace(/[\u3041-\u3093]/g,function(a){return String.fromCharCode(a.charCodeAt(0)+96)})};h=function(a){return b+=a};e=function(){return b=""};m=function(){var a;if(b.match(/^nn$/))return a=
"\u3093",e(),a;if(b.match(/^n[^aiueoy]$/))return a="\u3093",b=b.substring(1),a;if(b.match(/^(bb|cc|dd|ff|gg|hh|jj|kk|ll|mm|pp|qq|rr|ss|tt|vv|ww|xx|yy|zz)$/))return a="\u3063",b=b.substring(1),a;return(a=$.auto_kana_rome_table[b])?(e(),a):!1};o=function(){if(4<=b.length)return b=b.substring(1)};return this.live("keyup",function(a){a=a.which;j(a)?(a=String.fromCharCode(a).toLowerCase(),h(a),o(),(a=m())&&d(a)):189===a&&("n"===b.substring(0,1)&&d("\u3093"),d("\u30fc"),e());if(""===k.val())return i()})}});
$.extend({auto_kana_rome_table:{a:"\u3042",i:"\u3044",u:"\u3046",e:"\u3048",o:"\u304a",ka:"\u304b",ki:"\u304d",ku:"\u304f",ke:"\u3051",ko:"\u3053",sa:"\u3055",si:"\u3057",su:"\u3059",se:"\u305b",so:"\u305d",ta:"\u305f",ti:"\u3061",tu:"\u3064",te:"\u3066",to:"\u3068",na:"\u306a",ni:"\u306b",nu:"\u306c",ne:"\u306d",no:"\u306e",ha:"\u306f",hi:"\u3072",hu:"\u3075",he:"\u3078",ho:"\u307b",ma:"\u307e",mi:"\u307f",mu:"\u3080",me:"\u3081",mo:"\u3082",ya:"\u3084",yi:"\u3044",yu:"\u3086",ye:"\u3044\u3047",
yo:"\u3088",ra:"\u3089",ri:"\u308a",ru:"\u308b",re:"\u308c",ro:"\u308d",wa:"\u308f",wi:"\u3046\u3043",wu:"\u3046",we:"\u3046\u3047",wo:"\u3092",nn:"\u3093",ga:"\u304c",gi:"\u304e",gu:"\u3050",ge:"\u3052",go:"\u3054",za:"\u3056",zi:"\u3058",zu:"\u305a",ze:"\u305c",zo:"\u305e",ja:"\u3058\u3083",ji:"\u3058",ju:"\u3058\u3085",je:"\u3058\u3047",jo:"\u3058\u3087",da:"\u3060",di:"\u3062",du:"\u3065",de:"\u3067","do":"\u3069",ba:"\u3070",bi:"\u3073",bu:"\u3076",be:"\u3079",bo:"\u307c",pa:"\u3071",pi:"\u3074",
pu:"\u3077",pe:"\u307a",po:"\u307d",fa:"\u3075\u3041",fi:"\u3075\u3043",fu:"\u3075",fe:"\u3075\u3047",fo:"\u3075\u3049",kya:"\u304d\u3083",kyi:"\u304d\u3043",kyu:"\u304d\u3085",kye:"\u304d\u3047",kyo:"\u304d\u3087",sya:"\u3057\u3083",syi:"\u3057",syu:"\u3057\u3085",sye:"\u3057\u3047",syo:"\u3057\u3087",sha:"\u3057\u3083",shi:"\u3057",shu:"\u3057\u3085",she:"\u3057\u3047",sho:"\u3057\u3087",tya:"\u3061\u3083",tyi:"\u3061\u3043",tyu:"\u3061\u3085",tye:"\u3061\u3047",tyo:"\u3061\u3087",tha:"\u3066\u3083",
thi:"\u3066\u3043",thu:"\u3066\u3085",the:"\u3066\u3047",tho:"\u3066\u3087",nya:"\u306b\u3083",nyi:"\u306b\u3043",nyu:"\u306b\u3085",nye:"\u306b\u3047",nyo:"\u306b\u3087",hya:"\u3072\u3083",hyi:"\u3072\u3043",hyu:"\u3072\u3085",hye:"\u3072\u3047",hyo:"\u3072\u3087",mya:"\u307f\u3083",myi:"\u307f\u3043",myu:"\u307f\u3085",mye:"\u307f\u3047",myo:"\u307f\u3087",gya:"\u304e\u3083",gyi:"\u304e\u3043",gyu:"\u304e\u3085",gye:"\u304e\u3047",gyo:"\u304e\u3087",zya:"\u3058\u3083",zyi:"\u3058\u3043",zyu:"\u3058\u3085",
zye:"\u3058\u3047",zyo:"\u3058\u3087",jya:"\u3058\u3083",jyi:"\u3058\u3043",jyu:"\u3058\u3085",jye:"\u3058\u3047",jyo:"\u3058\u3087",dya:"\u3062\u3083",dyi:"\u3062\u3043",dyu:"\u3062\u3085",dye:"\u3062\u3047",dyo:"\u3062\u3087",dha:"\u3067\u3083",dhi:"\u3067\u3043",dhu:"\u3067\u3085",dhe:"\u3067\u3047",dho:"\u3067\u3087",bya:"\u3073\u3083",byi:"\u3073\u3043",byu:"\u3073\u3085",bye:"\u3073\u3047",byo:"\u3073\u3087",pya:"\u3074\u3083",pyi:"\u3074\u3043",pyu:"\u3074\u3085",pye:"\u3074\u3047",pyo:"\u3074\u3087",
rya:"\u308a\u3083",ryi:"\u308a\u3043",ryu:"\u308a\u3085",rye:"\u308a\u3047",ryo:"\u308a\u3087",xa:"\u3041",xi:"\u3043",xu:"\u3045",xe:"\u3047",xo:"\u3049",la:"\u3041",li:"\u3043",lu:"\u3045",le:"\u3047",lo:"\u3049"}})}).call(this);
